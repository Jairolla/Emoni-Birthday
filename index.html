<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Emoni</title>

<!-- Confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<!-- QR Code -->
<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>

<style>
/* === General Styles === */
body {
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif;
    color: white;
    text-align: center;
    overflow-x: hidden;
    min-height: 100vh;
    position: relative;
    background: #000; /* fallback black */
}

/* === Dynamic Flag Background === */
#flagBackground {
    position: fixed;
    top:0; left:0;
    width:100%;
    height:100%;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    grid-auto-rows: 80px;
    z-index: -2;
    opacity: 0.9;
    transition: opacity 2s ease-in-out;
}
#flagBackground img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Overlay to soften flags */
body::after {
    content:"";
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    z-index:-1;
    background: rgba(0,0,0,0.35);
}

/* === Floating Sparkles === */
.particle {
    position: fixed;
    border-radius:50%;
    background: rgba(255,255,255,0.8);
    pointer-events:none;
    z-index:1;
    animation: float 6s linear infinite;
}
@keyframes float {
    0% { transform: translateY(0) translateX(0); opacity: 1; }
    50% { opacity: 0.5; }
    100% { transform: translateY(-600px) translateX(100px); opacity: 0; }
}

/* === Header === */
h1 {
    margin-top: 30px;
    font-size: 2.5em;
    text-shadow: 0 0 25px #fff, 0 0 40px #ffcc00;
    position: relative;
    z-index: 10;
}

/* === Button === */
button {
    margin-top: 20px;
    padding: 15px 35px;
    font-size: 1.2em;
    border: none;
    border-radius: 50px;
    background: linear-gradient(45deg, #ffcc00, #ff6ec7);
    cursor: pointer;
    animation: pulse 2s infinite;
    transition: all 0.2s ease;
    position: relative;
    z-index: 10;
    word-break: break-word;
}
@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 10px #fff; }
    50% { transform: scale(1.1); box-shadow: 0 0 50px #ffcc00, 0 0 80px #ff6ec7; }
    100% { transform: scale(1); }
}
.birthdate { display: block; font-size: 0.85em; margin-top: 5px; text-shadow: 0 0 20px #fff, 0 0 30px #ffcc00; }

/* === Countdown === */
#countdown { font-size: 1.8em; margin-top: 20px; display: none; }

/* === Globe Container === */
#globeContainer {
    width: 90vw;
    max-width: 350px;
    height: auto;
    aspect-ratio: 1 / 1;
    margin: 20px auto;
    display: none;
}

/* === Ticket === */
#ticket {
    display: none;
    background: rgba(255,255,255,0.95);
    color: black;
    margin: 20px auto;
    padding: 20px;
    width: 90%;
    max-width: 350px;
    border-radius: 25px;
    box-shadow: 0 0 60px rgba(255,204,0,0.9);
    transform: translateY(-50px);
    opacity: 0;
    transition: all 1s ease;
    position: relative;
    z-index: 10;
}
#ticket.show { transform: translateY(0); opacity:1; }

/* === Personal Message === */
#message {
    display: none;
    font-size: 1.2em;
    margin: 15px;
    color: #ffccdd;
    animation: fadeIn 1.5s forwards;
    position: relative;
    z-index: 10;
}
@keyframes fadeIn {
    0% { opacity:0; transform: translateY(20px);}
    100%{ opacity:1; transform: translateY(0);}
}

/* === QR Code === */
#qr { margin-top:20px; position: relative; z-index: 10; }

/* === Mobile Adjustments === */
@media screen and (max-width: 400px) {
    h1 { font-size: 2em; }
    button { font-size: 1em; padding: 12px 25px; }
    #message { font-size: 1em; }
    #countdown { font-size: 1.5em; }
}
</style>
</head>

<body>

<!-- Flag Background -->
<div id="flagBackground">
  <!-- Add your African + Caribbean flags here -->
  <img src="flags/nigeria.png">
  <img src="flags/ghana.png">
  <img src="flags/jamaica.png">
  <img src="flags/barbados.png">
  <img src="flags/trinidad.png">
  <img src="flags/cuba.png">
  <img src="flags/bahamas.png">
  <img src="flags/kenya.png">
  <img src="flags/ethiopia.png">
  <!-- Add the rest -->
</div>

<h1>üéâ HAPPY BIRTHDAY <br> EMONI FAITH MORRIS üéâ</h1>

<button onclick="startExperience()">
    Please Click Here
    <span class="birthdate">01 / 04 / 1999</span>
</button>

<div id="countdown"></div>

<!-- Background Song -->
<audio id="bgMusic" autoplay loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<div id="globeContainer"></div>
<div id="ticket"></div>
<div id="message">
üíñ I love you baby girl you deserve the world.<br>
I hope all your wishes come true my queen ‚ù§Ô∏è
</div>
<div id="qr"></div>

<script>
/* === Floating particles === */
for(let i=0;i<60;i++){
  const p=document.createElement('div');
  p.className='particle';
  p.style.left=Math.random()*100+'%';
  p.style.width=p.style.height=(3+Math.random()*5)+'px';
  p.style.animationDuration=(4+Math.random()*5)+'s';
  document.body.appendChild(p);
}

/* === Button & Header Pulse === */
const button = document.querySelector('button');
const h1 = document.querySelector('h1');
setInterval(()=>{
  button.style.transform='scale(1.1)';
  h1.style.textShadow='0 0 30px #fff,0 0 60px #ffcc00';
  setTimeout(()=>{
    button.style.transform='scale(1)';
    h1.style.textShadow='0 0 20px #fff,0 0 30px #ffcc00';
  },300);
},600);

/* === Globe + Prize === */
const countries=["France üá´üá∑","Italy üáÆüáπ","Japan üáØüáµ","Brazil üáßüá∑","Greece üá¨üá∑","Jamaica üáØüá≤","Thailand üáπüá≠"];
let scene,camera,renderer,globe;

function startExperience(){
  document.getElementById("countdown").style.display="block";
  let count=3;
  const countdown=setInterval(()=>{
    document.getElementById("countdown").innerText=`üåç Trip Revealing In ${count}...`;
    count--;
    if(count<0){
      clearInterval(countdown);
      document.getElementById("countdown").style.display="none";
      initGlobe();
      setTimeout(revealPrize,4000);
    }
  },1000);
}

function initGlobe(){
  const c=document.getElementById("globeContainer");
  c.style.display="block";
  scene=new THREE.Scene();
  camera=new THREE.PerspectiveCamera(75,c.offsetWidth/c.offsetHeight,0.1,1000);
  renderer=new THREE.WebGLRenderer({alpha:true,antialias:true});
  renderer.setSize(c.offsetWidth,c.offsetHeight);
  c.appendChild(renderer.domElement);

  globe=new THREE.Mesh(
    new THREE.SphereGeometry(2,32,32),
    new THREE.MeshStandardMaterial({
      map: new THREE.TextureLoader().load('textures/land_ocean_ice_cloud_2048.jpg')
    })
  );
  scene.add(globe);

  const light=new THREE.PointLight(0xffffff,1);
  light.position.set(5,5,5);
  scene.add(light);

  camera.position.z=5;

  window.addEventListener('resize',()=>{
    renderer.setSize(c.offsetWidth,c.offsetHeight);
    camera.aspect=c.offsetWidth/c.offsetHeight;
    camera.updateProjectionMatrix();
  });

  (function animate(){
    requestAnimationFrame(animate);
    globe.rotation.y+=0.008;
    renderer.render(scene,camera);
  })();
}

function revealPrize(){
  const country=countries[Math.floor(Math.random()*countries.length)];
  const ticket=document.getElementById("ticket");
  ticket.innerHTML=`<h2>üéüÔ∏è Boarding Pass</h2>
    <p><strong>Passenger:</strong> Emoni Faith Morris</p>
    <p><strong>Destination:</strong> ${country}</p>
    <p><strong>Class:</strong> Queen üëë</p>`;
  ticket.classList.add('show');
  document.getElementById("message").style.display="block";

  confetti({
    particleCount:400,
    spread:160,
    gravity:0.8,
    ticks:250,
    colors:['#ffcc00','#ff6ec7','#6e9cff'],
    shapes:['circle','star']
  });

  new QRCode(document.getElementById("qr"),{
    text:window.location.href,
    width:150,
    height:150
  });
}
</script>
</body>
</html>
